@echo off
REM –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ Windows –≤–µ—Ä—Å–∏–∏ (EXE)

echo üî® –°–±–æ—Ä–∫–∞ Windows –≤–µ—Ä—Å–∏–∏ Instagram Reels Publisher...
echo üìå –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Windows
echo üìå –î–ª—è Linux –∏—Å–ø–æ–ª—å–∑—É–π build.sh –Ω–∞ Linux –º–∞—à–∏–Ω–µ –∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ uv
where uv >nul 2>&1
if %ERRORLEVEL% NEQ 0 (
    echo ‚ùå uv –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ uv: https://github.com/astral-sh/uv
    pause
    exit /b 1
)

REM –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç PyInstaller –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
echo üì¶ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
uv sync

REM –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–±–æ—Ä–∫–∏
echo üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–±–æ—Ä–æ–∫...
if exist build rmdir /s /q build
if exist dist rmdir /s /q dist

REM –°–æ–±–∏—Ä–∞–µ–º —Å –ø–æ–º–æ—â—å—é PyInstaller —á–µ—Ä–µ–∑ uv
echo üì¶ –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
uv run pyinstaller build.spec --clean --noconfirm

echo.
echo ‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
echo üìÅ –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤: dist\instagram-reels-publisher.exe
echo üñ•Ô∏è  –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Windows
echo.
echo üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Camoufox/Playwright –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—ã.
echo    –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
echo.
echo üìù –î–ª—è —Å–±–æ—Ä–∫–∏ Linux –≤–µ—Ä—Å–∏–∏:
echo    1. –ò—Å–ø–æ–ª—å–∑—É–π Linux –º–∞—à–∏–Ω—É –∏ –∑–∞–ø—É—Å—Ç–∏ build.sh
echo    2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É Linux
echo    3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π WSL (Windows Subsystem for Linux)

pause
